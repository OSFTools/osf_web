<!DOCTYPE html>
<html>
    <head>
        <title>C3S seasonal forecasts for MENA</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!-- need a new css <link rel="stylesheet" href="css/site.css"/> -->
        <!-- jquery scripts must be in the <head> -->
        <!-- code for the drop-down browser-->
        <!-- the jQuery library location (using consistent version with other scripts)-->
        <script src="js/jquery-2.1.1.min.js"></script>
        <script>
            //use jquery to change the imgElem element in the html
            // when one of the dropdowns is selected
            //

            function getImageSrc(){
                // specify the path to the folder containing the imgs 
                var imgFolder = "c3s_plots_fc/"; 

                // loop through each select element
                $("select").each(function(){
                    // fire function to get src on start
                    getImageSrc();

                    // fire function to get src on change
                    $(this).change(function(){
                        getImageSrc();
                    })
                });
    

            
                function getImageSrc(){
                    // update image for  plots based on chosen
                    // dropbox boxes
                    var imageSrc;

                    // create an img element with the src each 
                    // time and append to the image wrap div

                    imageSrc = imgFolder + $("#model").val() + 
                        "_" + $("#year").val() + "-" + $("#year").val() 
                        +"_monthly_mean_" +
                        $("#seas").val() + 
                        "_45:-30:-2.5:60_" +
                        $("#var").val()  + 
                        ".3m" +
                        ".png" ;

                    // do update
                    $("#img-det").html(`<img src="${imageSrc}" width=700>`);

                };
                
            }
            // fire functions on page-load
            $(document).ready(function(){
                $("#cat").hide();
                getImageSrc();
            })
        </script>
    </head>

    <!--Start of body -->
    <body >

    <a href="index.html">Return to index page</a>
    <h1>C3S Models forecasts</h1>
    <p>Select the model and forecast parameters to view the corresponding forecast 
        plots. 

            <div id="main">
                <!--controls-->
                <!--value must match filename patterns for static images-->
                <select id="model">
                    <option value="cmcc_35">cmcc_35</option>
                    <option value="dwd_22">dwd_22</option>
                    <option value="eccc_4">eccc_4</option>
                    <option value="eccc_5">eccc_5</option>
                    <option value="ecmwf_51">ecmwf_51</option>
                    <option value="meteo_france_9">meteo_france_9</option>
                    <option value="ncep_2">ncep_2</option>
                    <option value="ukmo_604">ukmo_604</option>
                </select>
                <select id="year">
                    <option value="2025">2025</option>
                    <option value="2024">2024</option>
                </select>
                <select id="seas">
                    <!-- to deal with variable forecast ranges this needs some logic -->
                    <option value="1_234">FMA</option>
                    <option value="2_234">MAM</option>
                    <option value="3_234">AMJ</option>
                    <option value="4_234">MJJ</option>
                    <option value="5_234">JJA</option>
                    <option value="6_234">JAS</option>
                    <option value="7_234">ASO</option>
                    <option value="8_234">SON</option>
                    <option value="9_234">OND</option>
                    <option value="10_234">NDJ</option>
                    <option value="11_234">DJF</option>
                    <option value="12_234">JFM</option>
                </select>
                <select id="var">
                    <option value="2m_temperature">T2m</option>
                    <option value="total_precipitation">Rain rate</option>
                </select>
         
                <!--Image Displays here-->
                <div id="img-det"></div>
        

            </div>      
            <div id="footer">
                Crown Copyright &copy; <script>document.write( new Date().getFullYear() );</script>, the Met Office. All Rights Reserved.
            </div>
    </body>
</html>

